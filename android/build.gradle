buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath("com.android.tools.build:gradle:8.3.0") // Matches Gradle 8.12
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.0")
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

ext {
    androidXVersion = "1.6.0"
    androidxCoreVersion = "1.9.0"

    // ✅ Load keystoreProperties to be shared with app module
    keystoreProperties = new Properties()
    def keystoreFile = rootProject.file('../key.properties')
    if (keystoreFile.exists()) {
        keystoreProperties.load(new FileInputStream(keystoreFile))
    } else {
        throw new GradleException("❌ key.properties file not found at ${keystoreFile.path}")
    }
}

subprojects {
    configurations.all {
        resolutionStrategy {
            force "androidx.core:core-ktx:${androidxCoreVersion}"
            force "androidx.appcompat:appcompat:${androidXVersion}"
        }
    }
}
